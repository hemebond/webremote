<!DOCTYPE html>
<html lang="en" ng-app="mprisApp">
	<head>
		<title>Web Remote</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
		<meta name="viewport" content="user-scalable=false">

		<!--<script src="/static/libs/jquery-1.9.1.js" type="text/javascript"></script>-->
		<script src="/static/libs/angular.min.js" type="text/javascript"></script>
		<script src="/static/libs/bootstrap-gh-pages/ui-bootstrap-0.2.0.min.js" type="text/javascript"></script>
		<script src="/static/libs/bootstrap-gh-pages/ui-bootstrap-tpls-0.2.0.min.js" type="text/javascript"></script>
		<script src="/static/app.js" type="text/javascript"></script>
		<script src="/static/controllers.js" type="text/javascript"></script>
		<script src="/static/services.js" type="text/javascript"></script>
		<script src="/static/directives.js" type="text/javascript"></script>

		<!--<link rel="stylesheet" href="/static/normalize.css">-->
		<link rel="stylesheet" href="/static/libs/bootstrap-2.2.1/css/bootstrap.min.css" type="text/css">
		<link rel="stylesheet" href="/static/libs/font-awesome-3.0/css/font-awesome.min.css">
		<!--<link rel="stylesheet" href="/static/newtest.css" type="text/css">-->
		<!--<link rel="stylesheet" href="/static/newtest-color.css" type="text/css">-->
	</head>
	<body>
		<div id="viewport">
			<div class="head"></div>
			<div class="body"></div>

			<div ng-view></div>
		</div>

		<script type="text/ng-template" id="applist.html">
			<div id="apps" ng-controller="AppListCtrl">
				<div class="head">
					<h1>Applications</h1>
				</div>

				<div class="body">
					<ul>
						<li ng-repeat="app in applications"
						    tap="handleAppClick(app.url)">
							<a href="/{{app.name}}/player/">{{app.Identity}}</a>
						</li>
					</ul>
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="player.html">
			<div id="player" ng-controller="PlayerCtrl">
				<div class="head">
					<button class="btn"
					        tap="buttonBack()">
						<i class="icon-chevron-left"></i>
						<span>Applications</span>
					</button>
					<h1>{{Identity}}</h1>
					<button class="btn"
					        tap="buttonSettings()">
						<i class="icon-cog"></i>
						<span>Settings</span>
					</button>
				</div>

				<div class="body">
					<div class="metadata">
						<div class="art">
							<img ng-show="player.data.Metadata['mpris:artUrl']"
							     ng-src="{{player.data.Metadata['mpris:artUrl']}}">
							<img ng-hide="player.data.Metadata['mpris:artUrl']"
							     src="/static/themes/dark/images/play.svg">
						</div>

						<div class="title">{{player.data.Metadata['xesam:title']}}</div>
						<div class="artist">
							<span ng-repeat="artist in player.data.Metadata['xesam:artist']">
								{{artist}}
							</span>
						</div>
						<div class="album"></div>
					</div>

					<div class="progress">
						<div class="bar" ng-style="{ width: positionAsPercentage() + '%' }"></div>
					</div>

					<div class="btn-toolbar" id="controls">
						<div class="btn-group">
							<button class="btn"
							        ng-show="player.data.CanGoPrevious"
							        tap="buttonPrevious()">
								<i class="icon-backward"></i>
								<span>Previous</span>
							</button>
							<button class="btn"
							        tap="buttonPlay()"
							        ng-show="player.data.CanPlay && !player.isPlaying()">
								<i class="icon-play"></i>
								<span>Play</span>
							</button>
							<button class="btn"
							        tap="buttonPause()"
							        ng-show="player.data.CanPause && player.isPlaying()">
								<i class="icon-pause"></i>
								<span>Pause</span>
							</button>
							<button class="btn"
							        ng-show="player.data.CanGoNext"
							        tap="buttonNext()">
								<i class="icon-forward"></i>
								<span>Next</span>
							</button>
						</div>

						<button class="btn"
						        tap="buttonTracklist()">
							<i class="icon-list"></i>
							<span>Tracklist</span>
						</button>

						<button class="btn"
						        tap="buttonPlaylists()">
							<i class="icon-list"></i>
							<span>Playlists</span>
						</button>
					</div>

					<pre>{{ player }}</pre>
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="settings.html">
			<div id="player" ng-controller="SettingsCtrl">
				<div class="head">
					<button class="btn"
					        tap="buttonBack()">
						<i class="icon-chevron-left"></i>
						<span>Player</span>
					</button>
					<h1>Settings</h1>
				</div>

				<div class="body">
					<button class="btn"
					        tap="buttonShuffle()"
					        ng-model="player.data.Shuffle"
					        btn-checkbox>
						<i class="icon-random"></i>
						Shuffle
					</button>

					<div>
						<label>Repeat</label>
						<div class="btn-group" data-toggle="buttons-radio">
							<button class="btn"
							        ng-model="player.data.LoopStatus"
							        btn-radio="'None'"
							        tap="buttonLoopStatus('None')">
								No repeat
							</button>
							<button class="btn"
							        ng-model="player.data.LoopStatus"
							        btn-radio="'Track'"
							        ng-hide="application.bus == 'org.mpris.MediaPlayer2.rhythmbox'"
							        tap="buttonLoopStatus('Track')">
								Repeat track
							</button>
							<button class="btn"
							        ng-model="player.data.LoopStatus"
							        btn-radio="'Playlist'"
							        tap="buttonLoopStatus('Playlist')">
								Repeat playlist
							</button>
						</div>
					</div>

					<button class="btn"
					        ng-show="application.CanSetFullscreen"
					        tap="buttonFullscreen()"
					        ng-model="application.Fullscreen"
					        btn-checkbox>
						<i class="icon-fullscreen"></i>
						Fullscreen
					</button>

					<button class="btn"
					        ng-show="application.CanRaise"
					        tap="buttonRaise()">
						<i class="icon-eye-open"></i>
						Raise
					</button>

					<button class="btn"
					        ng-show="application.CanQuit"
					        tap="buttonQuit()">
						<i class="icon-off"></i>
						Quit
					</button>
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="playlists.html">
			<div id="playlists" class="page" ng-controller="PlaylistsCtrl">
				<div class="head">
					<button class="btn"
					        tap="buttonBack()">
						<i class="icon-chevron-left"></i>
						<span>Player</span>
					</button>
					<h1>Playlists</h1>
				</div>

				<div class="body">
					<ul>
						<li ng-repeat="playlist in playlists"
						    tap="handleAppClick(playlist)">
							<a>{{playlist}}</a>
						</li>
					</ul>
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="tracklist.html">
			<div id="tracklist" class="page" ng-controller="TracklistCtrl">
				<div class="head">
					<button class="btn"
					        tap="buttonBack()">
						<i class="icon-chevron-left"></i>
						<span>Player</span>
					</button>
					<h1>Tracklist</h1>
				</div>

				<div class="body">
					<ul>
						<li><a>Test</a></li>
						<li><a>Test</a></li>
					</ul>
				</div>
			</div>
		</script>
	</body>
</html>
